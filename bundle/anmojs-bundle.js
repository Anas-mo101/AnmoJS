var Anmo;(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};(()=>{t.d(e,{default:()=>l});const n=class{static setToken(t){localStorage.setItem("app-auth-token",t)}static getToken(){return localStorage.getItem("app-auth-token")}static setBreakPoints(t){localStorage.setItem("app-responsive-breakpoints",JSON.stringify({mobile:`${t.mobile}px`,tablet:`${t.tablet}px`}))}static getBreakPoints(){var t;return JSON.parse(null!==(t=localStorage.getItem("app-responsive-breakpoints"))&&void 0!==t?t:"")}static setMainContainer(t){localStorage.setItem("anmo-main-container",t)}static getMainContainer(){return localStorage.getItem("anmo-main-container")}static TemporaryData(t){localStorage.setItem(`anmo-edit-project-${t.key}`,JSON.stringify(t.value))}static clearTemporaryData(t){localStorage.removeItem(`anmo-edit-project-${t}`)}static getProjectPassedData(t){const e=localStorage.getItem(`anmo-edit-project-${t}`);return this.clearTemporaryData(t),e}},r=class{constructor(){var t;if(this.routes=null!==(t=window.routes)&&void 0!==t?t:window.mainView,!this.routes)throw new Error("No Veiws Found");if(Array.isArray(this.routes)){const t=this.routes.map((t=>({route:t,result:location.pathname.match(this.pathToRegex(t.path))})));this.match=t.find((t=>null!==t.result)),this.match||(this.match={route:this.routes[0],result:[location.pathname]},history.pushState(null,"",this.routes[0].path)),this.loadMainView(new this.match.route.view)}else this.loadMainView(this.routes)}async loadMainView(t){var e,r;const o=null!==(e=n.getMainContainer())&&void 0!==e?e:"body";document.querySelector(o).replaceChildren();const i=await t.getComponentHTML();null===(r=document.querySelector(o))||void 0===r||r.append(i)}pathToRegex(t){return new RegExp("^"+t.replace(/\//g,"\\/").replace(/:\w+/g,"(.+)")+"$")}static getCurrentParams(){const t=window.location.search,e=new URLSearchParams(t);return Object.fromEntries(e.entries())}static initAppRouting(t=[]){window.routes=t,window.addEventListener("popstate",(t=>new this)),window.addEventListener("resize",(t=>new this)),document.body.addEventListener("click",(t=>{const e=null==t?void 0:t.target;e.matches("[data-link]")&&(t.preventDefault(),this.navigateTo(e.href))})),new this}static initApp(t){if(!t)throw new Error("No main view found");window.mainView=t,new this}static navigateTo(t,e=null){e&&n.TemporaryData(e),history.pushState(null,"",t),new this}},o=t=>"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName,i=({tag:t,id:e,content:n,attributes:r,style:i,onTap:a,onChange:s,onInput:l,onSubmit:c})=>{let u;if(""===t||void 0===t)throw new Error("Undefined Element");if(u=document.createElement(t),e&&(u.id=e),n)if(Array.isArray(n)){let t=!0;n.forEach((e=>{o(e)&&u.appendChild(e),("string"==typeof e||e instanceof String)&&(t?t=!1:u.appendChild(document.createElement("br")),u.appendChild(document.createTextNode(e)))}))}else if("function"==typeof n){const t=(t=>{const e=t.toString();return e.toString().slice(e.toString().indexOf("{")+1,e.toString().lastIndexOf("}"))})(n);u.appendChild(document.createTextNode(t))}else o(n)?u.appendChild(n):("string"==typeof n||n instanceof String)&&u.appendChild(document.createTextNode(n));if(r&&r.forEach((t=>{let e="";t.value&&(e=Array.isArray(t.value)?t.value.join(" "):t.value),u.setAttribute(t.attribute,e)})),i)for(const[t,e]of Object.entries(i))u.style.setProperty(`${t}`,`${e}`);return"input"!==t&&"textarea"!==t||(l&&u.addEventListener("input",(t=>l)),c&&u.addEventListener("keyup",(({key:t})=>{var e;return null!==(e="Enter"===t)&&void 0!==e?e:c}))),a&&u.addEventListener("click",(t=>a)),s&&u.addEventListener("change",(t=>s)),u};class a{constructor(t){this.error=t}getComponentHTML(){try{return i({tag:"div",attributes:[{attribute:"class",value:["bg-red-500 h-full items-center"]}],content:[i({tag:"div",attributes:[{attribute:"class",value:["text-lg text-black font-bold"]}],content:[i({tag:"h1",attributes:[{attribute:"class",value:["text-lg text-center text-black font-bold"]}],content:"Something went wrong !"}),this.error?i({tag:"h1",attributes:[{attribute:"class",value:["text-sm text-center text-black font-bold"]}],content:"Error: "+this.error}):null]})]})}catch(t){console.error(`ErrorComponent: ${t}`)}}}class s{constructor({style:t}={}){if(this.id=s.generateID(),this.mainCompnent=document.createElement("div"),t)for(const[e,n]of Object.entries(t))this.mainCompnent.style.setProperty(`${e}`,`${n}`)}static generateID(){return"anmo-"+Math.random().toString(36).substring(2,10)}setTitle(t){document.title=t}getComponentHTML(){return document.createElement("div")}async update(){if(!this.id)throw new Error("Component ID not found");const t=document.getElementById(this.id);if(!t)return;this.mainCompnent=document.createElement("div");const e=await this.getComponentHTML();t.replaceWith(e)}appendHTMLComponent(t){this.mainCompnent.appendChild(t)}getComponent_(){return this.mainCompnent}obs(t,e){return new Proxy({state:t},{set:(t,n,r)=>(t[n]=r,e&&e(),this.update(),!0)})}componentError(t="Error"){return new a(t).getComponentHTML()}}const l={Router:r,AppLocalStorage:n,AbstractView:s,BuildElement:i,Utils:{PopupIncubator:class extends s{constructor(){super()}incubator(){if(!this.popup)throw new Error("Popup not defined");return i({tag:"div",id:this.id,attributes:[{attribute:"class",value:["fixed z-50 bg-neutral-500 opacity-60 top-0 left-0 h-full w-full justify-center items-center"]}],content:i({tag:"div",attributes:[{attribute:"class",value:["flex justify-center items-center h-full w-full","app-popup-main-incubator"]}],content:this.popup})})}displayPopup(t){this.popup=t;const e=document.querySelector(".app-popup-main-incubator");e&&e.remove();const n=this.incubator();document.querySelector("body").append(n)}hidePopup(){this.id&&document.getElementById(this.id).remove()}},Responsiveness:class{static isMobile(){return this.setByScreen(!1,!1,!0)}static isTablet(){return this.setByScreen(!1,!0,!1)}static isDesktop(){return this.setByScreen(!0,!1,!1)}static setBreakPoints(t){if(!t.mobile&&!Number.isInteger(t.mobile)&&t.mobile<0)throw new Error("Mobile breakpoint must be a positive integer");if(!t.tablet&&!Number.isInteger(t.tablet)&&t.tablet<0)throw new Error("Tablet breakpoint must be a positive integer");if(t.mobile>=t.tablet)throw new Error("Mobile breakpoint must be smaller than tablet breakpoint");n.setBreakPoints(t)}static setByScreen(t,e,r){let o=n.getBreakPoints();if(!(null==o?void 0:o.mobile)||!(null==o?void 0:o.tablet))throw new Error("Breakpoints not set");const i=window.matchMedia(`(max-width: ${o.mobile})`),a=window.matchMedia(`(max-width: ${o.tablet})`);return i.matches?r:a.matches?e:t}}},initApp:t=>{Array.isArray(t)?r.initAppRouting(t):r.initApp(t)},setBreakPoints:t=>{n.setBreakPoints(t)},setMainContainer:t=>{n.setMainContainer(t)}}})(),Anmo=e.default})();